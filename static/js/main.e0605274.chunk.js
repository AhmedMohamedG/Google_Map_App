(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports=a(50)},25:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t),t.default={styles:[{featureType:"all",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"all",elementType:"labels",stylers:[{visibility:"off"},{saturation:"-100"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40},{visibility:"off"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"off"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#4d6059"}]},{featureType:"landscape",elementType:"geometry.stroke",stylers:[{color:"#4d6059"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{color:"#4d6059"}]},{featureType:"poi",elementType:"geometry",stylers:[{lightness:21}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#4d6059"}]},{featureType:"poi",elementType:"geometry.stroke",stylers:[{color:"#4d6059"}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"on"},{color:"#7f8d89"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#7f8d89"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#7f8d89"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#7f8d89"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#7f8d89"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#7f8d89"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#7f8d89"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#7f8d89"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"all",stylers:[{color:"#2b3638"},{visibility:"on"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#2b3638"},{lightness:17}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#24282b"}]},{featureType:"water",elementType:"geometry.stroke",stylers:[{color:"#24282b"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.icon",stylers:[{visibility:"off"}]}]}},50:function(e,t,a){"use strict";a.r(t);var r=a(0),i=a.n(r),l=a(8),n=a.n(l),o=(a(25),a(2)),s=a(3),c=a(5),p=a(4),u=a(6),y=a(14),m=(a(45),a(15)),f=(a(47),function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={locations:[{name:"Citadel of Qaitbay",location:{lat:31.214,lng:29.8856},wikiTitle:"Citadel_of_Qaitbay"},{name:"Bibliotheca Alexandrina",location:{lat:31.2089,lng:29.9092},wikiTitle:"Library_of_Alexandria"},{name:"Alexandria Aquarium",location:{lat:31.2128,lng:29.885},wikiTitle:"Alexandria_Aquarium"},{name:"Roman Auditorium",location:{lat:31.195003,lng:29.904903},wikiTitle:"Roman_theatre_(structure)"},{name:"Abu al-Abbas al-Mursi Mosque",location:{lat:31.2057,lng:29.8824},wikiTitle:"Abu_al-Abbas_al-Mursi_Mosque"}],markers:[],places:[],query:"",wiki:""},a.handleChange=function(e){a.toggleMarks(e),a.setState({query:e.target.value})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.initMap(),this.fillList()}},{key:"initMap",value:function(){var e=this;return new Promise(function(t,r){if(e.props&&e.props.google){var i=e.props.google,l=i.maps,n=a(49).default.styles,o=new l.Map(document.getElementById("map"),{center:{lat:31.206656,lng:29.893934},zoom:15,mapTypeId:"roadmap",mapTypeControl:!1,styles:n});e.addMarkers(o,i);var s=e.listclicked.bind(e);document.getElementById("locations-list").addEventListener("click",function(e){return s(e,o)})}else alert("Error on Loading")}).catch(function(e){return alert(e+"Error"),i.a.createElement("h1",null,'"error"')})}},{key:"wiki",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wiki",a="https://en.wikipedia.org/w/api.php?action=query&titles=".concat(e,"&prop=extracts&explaintext=1&exintro&exlimit=2&format=json&formatversion=2&origin=*");fetch(a).then(function(e){return e.json()}).then(function(e){var a=document.getElementsByClassName(t);return[].forEach.call(a,function(t){t.innerHTML=e.query.pages[0].extract}),console.log(e),!0}).catch(function(e){return alert("Error on Loadin Wikipedia data"),!1})}},{key:"populateInfoWindow",value:function(e,t,a,r,i){var l=this.makeMarkerIcon("fff"),n=this.makeMarkerIcon("FF1C1C");this.state.markers.forEach(function(e){e.setIcon(l)}),e.setIcon(n);new i.maps.Geocoder;t.marker!==e&&(t.setContent(""),t.marker=e,t.addListener("closeclick",function(){t.marker=null})),t.setContent('<div id=\'infoWrapper\' tabIndex="0"><div class="marker_taitle title"><h2>'.concat(e.title,"</h2></div><div><h3>Location</h3>").concat(e.position,'</div>\n      <h3 class="title wikiTitle"> WIKI!</h3> <div class="wiki"></div></div>')),t.open(a,e);this.wiki.bind(this)(e.wikiTitle)}},{key:"addMarkers",value:function(e,t){var a=this,r=this.makeMarkerIcon("fff"),i=this.makeMarkerIcon("FF1C1C"),l=new t.maps.LatLngBounds,n=this.props.infowindow,o=new t.maps.places.PlacesService(e);this.state.locations.forEach(function(s){var c=new t.maps.Marker({position:{lat:s.location.lat,lng:s.location.lng},map:e,title:s.name,animation:t.maps.Animation.DROP,icon:r});c.wikiTitle=s.wikiTitle,l.extend(s.location),a.setState({markers:[].concat(Object(m.a)(a.state.markers),[c])}),a.state.markers.push(c),c.addListener("click",function(){return a.populateInfoWindow(c,n,e,o,t)}),c.addListener("mouseover",function(){this.setIcon(i)}),c.addListener("mouseout",function(){this.setIcon(r)})}),e.fitBounds(l)}},{key:"toggleMarks",value:function(e,t){var a=this.state,r=a.locations,i=a.markers,l=this.props.infowindow,n=e.target.value.trim().toLowerCase();n?r.forEach(function(e,t){e.name.toLowerCase().includes(n)?i[t].setVisible(!0):(l.marker===i[t]&&l.close(),i[t].setVisible(!1))}):r.forEach(function(e,t){i.length&&i[t]&&i[t].setVisible(!0)}),this.fillList()}},{key:"fillList",value:function(){var e=document.getElementById("locations-list");e.hasChildNodes()&&(e.innerHTML=""),this.state.markers.filter(function(e){return e.getVisible()}).forEach(function(e,t){document.getElementById("locations-list").innerHTML+="<li key={i} tabindex='0'>".concat(e.title,"</li>")})}},{key:"listclicked",value:function(e,t){if(e.target&&"LI"===e.target.nodeName){var a=this.props.infowindow,r=this.props.google,i=new r.maps.places.PlacesService(t),l=this.state.markers.find(function(t){if(t.title.toLowerCase()===e.target.innerText.toLowerCase())return t});this.populateInfoWindow(l,a,t,i,r);var n=this.makeMarkerIcon("fff"),o=this.makeMarkerIcon("FF1C1C");this.state.markers.forEach(function(e){e.setIcon(n)}),l.setIcon(o)}}},{key:"makeMarkerIcon",value:function(e){var t=this.props.google;return{url:"http://chart.googleapis.com/chart?chst=d_map_spin&chld=1.15|0|"+e+"|40|_|%E2%80%A2",size:new t.maps.Size(71,71),origin:new t.maps.Point(0,0),anchor:new t.maps.Point(17,34),scaledSize:new t.maps.Size(25,25)}}},{key:"render",value:function(){return console.log(this.props),i.a.createElement("div",{id:"mapDiv"},i.a.createElement("div",{id:"controler"},i.a.createElement("h1",null,"Alexandria!"),i.a.createElement("form",null,i.a.createElement("label",{htmlFor:"places"},i.a.createElement("h2",null,"Search for a place"),i.a.createElement("input",{role:"search",name:"places",id:"places",type:"text",placeholder:"Enter a place",value:this.state.value,onChange:this.handleChange})),i.a.createElement("output",{id:"results"},i.a.createElement("h3",{id:"resultsTitle"},"List of places"),i.a.createElement("ul",{"aria-labelledby":"resultsTitle",id:"locations-list"}))),i.a.createElement("div",{class:"wiki"})),i.a.createElement("div",{id:"map",ref:"map",role:"application",tabIndex:"0"}))}}]),t}(r.Component)),d=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={hasError:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0}),alert("in"),console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?i.a.createElement("h1",null,"Something went wrong."):this.props.children}}]),t}(i.a.Component),h=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){console.log(this.props);var e=new this.props.google.maps.InfoWindow({maxWidth:200});return i.a.createElement("main",{id:"hh"},i.a.createElement(f,{google:this.props.google,infowindow:e}))}}]),t}(r.Component),g=Object(y.GoogleApiWrapper)({apiKey:"AIzaSyDS9Vzzpy550PxvIjwFsyVIvISvKnm_eBo",LoadingContainer:function(e){return i.a.createElement("div",{className:"LoadingContainer"})},libraries:["places"]})(h);n.a.render(i.a.createElement(d,null,i.a.createElement(g,null)),document.getElementById("root"),function(){console.log(this.props),this.props.children.toString||alert("not loaded index")}),window.gm_authFailure=function(){alert("Error In Map Load")}}},[[16,2,1]]]);
//# sourceMappingURL=main.e0605274.chunk.js.map